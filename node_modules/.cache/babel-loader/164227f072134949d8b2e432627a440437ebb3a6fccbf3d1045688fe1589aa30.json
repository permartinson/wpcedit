{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-57f01a19\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"bar-container\"\n};\nconst _hoisted_2 = {\n  class: \"spacer back\"\n};\nconst _hoisted_3 = {\n  class: \"spacer title\"\n};\nconst _hoisted_4 = {\n  class: \"bar-title\"\n};\nconst _hoisted_5 = {\n  class: \"spacer save\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"body-sm\"\n}, \"You have made modifications to this ROM.\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"body-sm\"\n}, \"Make sure you save any changes you want to keep before unload, or they will be lost!\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"alert-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LargeIcon = _resolveComponent(\"LargeIcon\");\n  const _component_MinimalButton = _resolveComponent(\"MinimalButton\");\n  const _component_SaveSection = _resolveComponent(\"SaveSection\");\n  const _component_CheckBox = _resolveComponent(\"CheckBox\");\n  const _component_StandardButton = _resolveComponent(\"StandardButton\");\n  const _component_AlertDialog = _resolveComponent(\"AlertDialog\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [$props.showBackButton ? (_openBlock(), _createBlock(_component_MinimalButton, {\n    key: 0,\n    onClick: $options.goHome,\n    size: \"large\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_LargeIcon, {\n      type: \"left\"\n    }), _createTextVNode(\"Back\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h1\", _hoisted_4, _toDisplayString($props.title), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_SaveSection, {\n    romIsLoaded: $setup.romIsLoaded,\n    romIsAltered: $setup.romIsAltered,\n    fileName: $setup.fileName,\n    onSave: $options.download,\n    onUnload: $options.unload\n  }, null, 8 /* PROPS */, [\"romIsLoaded\", \"romIsAltered\", \"fileName\", \"onSave\", \"onUnload\"])]), _createVNode(_component_AlertDialog, {\n    show: $data.showAlert,\n    title: \"Warning!\"\n  }, {\n    default: _withCtx(() => [_hoisted_6, _hoisted_7, _createVNode(_component_CheckBox, {\n      onChange: $options.checkboxClicked,\n      checked: false,\n      label: \"Don't show this warning again\",\n      ref: \"alertCheck\"\n    }, null, 8 /* PROPS */, [\"onChange\"]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_StandardButton, {\n      type: \"primary\",\n      onClick: $options.cancel\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Cancel\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_StandardButton, {\n      onClick: $options.continueClicked\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Unload ROM\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"])]);\n}","map":{"version":3,"mappings":";;;EACOA,KAAK,EAAC;AAAe;;EACnBA,KAAK,EAAC;AAAa;;EACnBA,KAAK,EAAC;AAAc;;EAAKA,KAAK,EAAC;AAAW;;EAC1CA,KAAK,EAAC;AAAa;gEAKpBC,oBAA+D;EAA5DD,KAAK,EAAC;AAAS,GAAC,0CAAwC;gEAC3DC,oBAA2G;EAAxGD,KAAK,EAAC;AAAS,GAAC,sFAAoF;;EAElGA,KAAK,EAAC;AAAc;;;;;;;;uBAX/BE,oBAgBM,OAhBNC,UAgBM,GAfJF,oBAAwJ,OAAxJG,UAAwJ,GAA1GC,qBAAc,kBAAnCC,aAAyHC;;IAAnFC,OAAK,EAAEC,eAAM;IAAEC,IAAI,EAAC;;sBAAQ,MAAmC,CAAnCC,aAAmCC;MAAxBC,IAAI,EAAC;IAAM,qBAAa,MAAI;;yEAClIZ,oBAAsE,OAAtEa,UAAsE,GAA5Cb,oBAAsC,MAAtCc,UAAsC,mBAAbV,YAAK,oBACxDJ,oBAGM,OAHNe,UAGM,GAFJL,aACcM;IADAC,WAAW,EAAEC,kBAAW;IAAGC,YAAY,EAAED,mBAAY;IAAGE,QAAQ,EAAEF,eAAQ;IAAGG,MAAI,EAAEb,iBAAQ;IAAGc,QAAM,EAAEd;gGAGpHE,aAQYa;IAREC,IAAI,EAAEC,eAAS;IAAEC,KAAK,EAAC;;sBACnC,MAA+D,CAA/DC,UAA+D,EAC/DC,UAA2G,EAC3GlB,aAAuHmB;MAA5GC,QAAM,EAAEtB,wBAAe;MAAGuB,OAAO,EAAE,KAAK;MAAEC,KAAK,EAAC,+BAA+B;MAACC,GAAG,EAAC;2CAC/FjC,oBAGM,OAHNkC,UAGM,GAFJxB,aAAsEyB;MAAtDvB,IAAI,EAAC,SAAS;MAAEL,OAAK,EAAEC;;wBAAQ,MAAM,kBAAN,QAAM;;oCACrDE,aAAoEyB;MAAnD5B,OAAK,EAAEC;IAAe;wBAAE,MAAU,kBAAV,YAAU","names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","$props","_createBlock","_component_MinimalButton","onClick","$options","size","_createVNode","_component_LargeIcon","type","_hoisted_3","_hoisted_4","_hoisted_5","_component_SaveSection","romIsLoaded","$setup","romIsAltered","fileName","onSave","onUnload","_component_AlertDialog","show","$data","title","_hoisted_6","_hoisted_7","_component_CheckBox","onChange","checked","label","ref","_hoisted_8","_component_StandardButton"],"sourceRoot":"","sources":["/Users/permartinson/Documents/GitHub/wpcedit/src/components/ui/TopBar.vue"],"sourcesContent":["<template>\n  <div class=\"bar-container\">\n    <div class=\"spacer back\"><MinimalButton v-if=\"showBackButton\" @click=\"goHome\" size=\"large\"><LargeIcon type=\"left\"></LargeIcon>Back</MinimalButton></div>\n    <div class=\"spacer title\"><h1 class=\"bar-title\">{{ title }}</h1></div>\n    <div class=\"spacer save\">\n      <SaveSection :romIsLoaded=\"romIsLoaded\" :romIsAltered=\"romIsAltered\" :fileName=\"fileName\" @save=\"download\" @unload=\"unload\">\n      </SaveSection>\n    </div>\n      <AlertDialog :show=\"showAlert\" title=\"Warning!\">\n        <p class=\"body-sm\">You have made modifications to this ROM.</p>\n        <p class=\"body-sm\">Make sure you save any changes you want to keep before unload, or they will be lost!</p>\n        <CheckBox @change=\"checkboxClicked\" :checked=\"false\" label=\"Don't show this warning again\" ref=\"alertCheck\"></CheckBox>\n        <div class=\"alert-footer\">\n          <StandardButton type=\"primary\" @click=\"cancel\">Cancel</StandardButton>\n          <StandardButton @click=\"continueClicked\">Unload ROM</StandardButton>\n        </div>\n    </AlertDialog>\n  </div>\n</template>\n\n<script>\nimport MinimalButton from './buttons/MinimalButton.vue';\nimport StandardButton from './buttons/StandardButton.vue';\nimport AlertDialog from '../ui/modals/AlertDialog.vue';\nimport CheckBox from '../ui/CheckBox.vue';\nimport LargeIcon from '../icons/LargeIcon.vue';\nimport SaveSection from './SaveSection.vue';\nimport store from \"../../stores/store.js\";\nimport { storeToRefs } from 'pinia';\nimport { useMainStore } from '../../stores/mainStore.js'\n\nconst MainStore = useMainStore(store);\n\nexport default {\n    name: \"TopBar\",\n    props: {\n        title: String,\n        showBackButton: Boolean\n    },\n    setup() {\n      const { romIsLoaded, romIsAltered, fileName, warnings } = storeToRefs(MainStore);\n      return {\n        romIsLoaded, romIsAltered, fileName, warnings\n      }\n    },\n    data() {\n      return {\n        showAlert: false,\n        checkBoxIsSelected: false\n      }\n    },\n    methods: {\n      goHome() {\n        this.$router.push('/');\n      },\n      download() {\n        MainStore.downloadRom();\n      },\n      cancel() {\n        this.showAlert = false;\n      },\n      continueClicked() {\n        if(this.checkBoxIsSelected) {\n          this.warnings.unload++;\n        }\n        this.continueUnload();\n      },\n      checkboxClicked(state) {\n        if(state == true) {\n          this.checkBoxIsSelected = true;\n        } else if(state == false) {\n          this.checkBoxIsSelected = false;\n        }\n      },\n      unload() {\n        if(this.romIsAltered && this.warnings.unload < 1) {\n          this.showAlert = true;\n        } else {\n          this.continueUnload();\n        }\n      },\n      continueUnload() {\n        this.showAlert = false;\n        MainStore.unloadRom();\n        this.$router.push('/');\n      }\n    },\n    components: {\n    MinimalButton,\n    StandardButton,\n    LargeIcon,\n    SaveSection,\n    AlertDialog,\n    CheckBox\n  }\n}\n</script>\n\n<style scoped>\n.bar-container {\n  position: fixed;\n  z-index: 800;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 6rem;\n  padding: 0 var(--space-lg);\n  background: var(--grey1);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.spacer {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n}\n\n.spacer.back {\n  justify-content: left;\n}\n.spacer.save {\n  justify-content: right;\n}\n.bar-title {\n  font-weight: 400;\n  font-size: 2.8rem;\n  color: var(--grey8);\n  text-align: center;\n}\n.alert-footer {\n    display: flex;\n    flex-flow: row;\n    justify-content:center;\n    align-items: center;\n    margin-top: var(--space-lg)\n}\n.alert-footer button {\n  margin: 0 var(--space-sm);\n}\n@media screen and (max-width: 860px) {\n    .bar-title {\n      font-size: var(--text-lg);\n    }\n    .bar-container {\n      height: 9rem;\n    }\n}\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}