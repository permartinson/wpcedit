{"ast":null,"code":"import { DataTypes, WPC } from \"../resources/Constants.js\";\nimport { DmdDecoder } from \"./DmdDecoder.js\";\nimport { FullFrameImageData } from \"../stores/FullFrameImageData.js\";\nexport class FullFrameImage {\n  static init() {\n    if (FullFrameImage.instance) {\n      return this.instance;\n    }\n    this.instance = new FullFrameImage();\n    return this.instance;\n  }\n  constructor() {\n    FullFrameImageData.init();\n  }\n  prev(steps) {\n    DmdDecoder.decodePreviousIndex(steps, DataTypes.Graphics);\n  }\n  next(steps) {\n    DmdDecoder.decodeNextIndex(steps, DataTypes.Graphics);\n  }\n  set index(index) {\n    FullFrameImageData.CurrentImageIndex = Math.max(0, index);\n  }\n  get index() {\n    return FullFrameImageData.CurrentImageIndex;\n  }\n  get plane() {\n    FullFrameImage._getCurrent();\n    return FullFrameImage.currentPlane;\n  }\n  static _getCurrent() {\n    DmdDecoder.decodeFullFrameGraphic(FullFrameImageData.CurrentImageIndex);\n    FullFrameImage.currentPlane.image = FullFrameImageData.Planes.Plane0.Plane_Data;\n    FullFrameImage.currentPlane.mask = FullFrameImageData.Planes.Plane0.Plane_Skipped;\n  }\n}\nFullFrameImage.currentPlane = {\n  width: WPC.DmdCols,\n  height: WPC.DmdRows,\n  image: new Uint8Array(WPC.DmdPageBytes),\n  mask: new Uint8Array(WPC.DmdPageBytes),\n  xOffset: 0,\n  yOffset: 0\n};","map":{"version":3,"names":["DataTypes","WPC","DmdDecoder","FullFrameImageData","FullFrameImage","init","instance","constructor","prev","steps","decodePreviousIndex","Graphics","next","decodeNextIndex","index","CurrentImageIndex","Math","max","plane","_getCurrent","currentPlane","decodeFullFrameGraphic","image","Planes","Plane0","Plane_Data","mask","Plane_Skipped","width","DmdCols","height","DmdRows","Uint8Array","DmdPageBytes","xOffset","yOffset"],"sources":["/Users/permartinson/Documents/GitHub/wpcedit-vue/node_modules/wpcedit/dist/classes/FullFrameImage.js"],"sourcesContent":["import { DataTypes, WPC } from \"../resources/Constants.js\";\nimport { DmdDecoder } from \"./DmdDecoder.js\";\nimport { FullFrameImageData } from \"../stores/FullFrameImageData.js\";\nexport class FullFrameImage {\n    static init() {\n        if (FullFrameImage.instance) {\n            return this.instance;\n        }\n        this.instance = new FullFrameImage();\n        return this.instance;\n    }\n    constructor() {\n        FullFrameImageData.init();\n    }\n    prev(steps) {\n        DmdDecoder.decodePreviousIndex(steps, DataTypes.Graphics);\n    }\n    next(steps) {\n        DmdDecoder.decodeNextIndex(steps, DataTypes.Graphics);\n    }\n    set index(index) {\n        FullFrameImageData.CurrentImageIndex = Math.max(0, index);\n    }\n    get index() {\n        return FullFrameImageData.CurrentImageIndex;\n    }\n    get plane() {\n        FullFrameImage._getCurrent();\n        return FullFrameImage.currentPlane;\n    }\n    static _getCurrent() {\n        DmdDecoder.decodeFullFrameGraphic(FullFrameImageData.CurrentImageIndex);\n        FullFrameImage.currentPlane.image = FullFrameImageData.Planes.Plane0.Plane_Data;\n        FullFrameImage.currentPlane.mask = FullFrameImageData.Planes.Plane0.Plane_Skipped;\n    }\n}\nFullFrameImage.currentPlane = {\n    width: WPC.DmdCols,\n    height: WPC.DmdRows,\n    image: new Uint8Array(WPC.DmdPageBytes),\n    mask: new Uint8Array(WPC.DmdPageBytes),\n    xOffset: 0,\n    yOffset: 0\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,GAAG,QAAQ,2BAA2B;AAC1D,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,kBAAkB,QAAQ,iCAAiC;AACpE,OAAO,MAAMC,cAAc,CAAC;EACxB,OAAOC,IAAI,GAAG;IACV,IAAID,cAAc,CAACE,QAAQ,EAAE;MACzB,OAAO,IAAI,CAACA,QAAQ;IACxB;IACA,IAAI,CAACA,QAAQ,GAAG,IAAIF,cAAc,EAAE;IACpC,OAAO,IAAI,CAACE,QAAQ;EACxB;EACAC,WAAW,GAAG;IACVJ,kBAAkB,CAACE,IAAI,EAAE;EAC7B;EACAG,IAAI,CAACC,KAAK,EAAE;IACRP,UAAU,CAACQ,mBAAmB,CAACD,KAAK,EAAET,SAAS,CAACW,QAAQ,CAAC;EAC7D;EACAC,IAAI,CAACH,KAAK,EAAE;IACRP,UAAU,CAACW,eAAe,CAACJ,KAAK,EAAET,SAAS,CAACW,QAAQ,CAAC;EACzD;EACA,IAAIG,KAAK,CAACA,KAAK,EAAE;IACbX,kBAAkB,CAACY,iBAAiB,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEH,KAAK,CAAC;EAC7D;EACA,IAAIA,KAAK,GAAG;IACR,OAAOX,kBAAkB,CAACY,iBAAiB;EAC/C;EACA,IAAIG,KAAK,GAAG;IACRd,cAAc,CAACe,WAAW,EAAE;IAC5B,OAAOf,cAAc,CAACgB,YAAY;EACtC;EACA,OAAOD,WAAW,GAAG;IACjBjB,UAAU,CAACmB,sBAAsB,CAAClB,kBAAkB,CAACY,iBAAiB,CAAC;IACvEX,cAAc,CAACgB,YAAY,CAACE,KAAK,GAAGnB,kBAAkB,CAACoB,MAAM,CAACC,MAAM,CAACC,UAAU;IAC/ErB,cAAc,CAACgB,YAAY,CAACM,IAAI,GAAGvB,kBAAkB,CAACoB,MAAM,CAACC,MAAM,CAACG,aAAa;EACrF;AACJ;AACAvB,cAAc,CAACgB,YAAY,GAAG;EAC1BQ,KAAK,EAAE3B,GAAG,CAAC4B,OAAO;EAClBC,MAAM,EAAE7B,GAAG,CAAC8B,OAAO;EACnBT,KAAK,EAAE,IAAIU,UAAU,CAAC/B,GAAG,CAACgC,YAAY,CAAC;EACvCP,IAAI,EAAE,IAAIM,UAAU,CAAC/B,GAAG,CAACgC,YAAY,CAAC;EACtCC,OAAO,EAAE,CAAC;EACVC,OAAO,EAAE;AACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}