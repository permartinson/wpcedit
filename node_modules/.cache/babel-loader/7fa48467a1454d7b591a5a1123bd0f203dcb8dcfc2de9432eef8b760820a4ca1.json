{"ast":null,"code":"import { WPC } from \"../resources/Constants.js\";\nimport { logStr } from \"../resources/Helpers.js\";\nexport class ROM {\n  constructor(data) {\n    ROM.setRom(data);\n  }\n  static init(data) {\n    if (ROM.instance) {\n      return this.instance;\n    }\n    this.instance = new ROM(data);\n    return this.instance;\n  }\n  static byteAtAddr(Addr) {\n    if (Addr > ROM.size) {\n      logStr(\"ERROR: Address is out of range!\");\n    }\n    return this.currentData[Addr] & 0xFF;\n  }\n  static setRom(data) {\n    const Length = data.length;\n    if (Length != 0x40000 && Length != 0x80000 && Length != 0x100000) {\n      logStr(\"ROM doesn't appear to be a WPC rom image\");\n      return;\n    }\n    ROM.size = Length;\n    ROM.endPtr = Length;\n    ROM.currentData = data;\n    ROM.totalPages = Math.floor((Length + (WPC.PageLength - 1)) / WPC.PageLength);\n    ROM.startPtr = 0;\n    ROM.endPtr = ROM.size - 1;\n    ROM.basePageIndex = ROM.byteAtAddr(ROM.startPtr) & 0xff;\n    return true;\n  }\n  static get data() {\n    return ROM.currentData;\n  }\n  static set data(data) {\n    ROM.setRom(data);\n  }\n  static get nonPagedBankAddr() {\n    return ROM.size - WPC.BaseCodeAddrNonpagedRom;\n  }\n}\nROM.size = 0;\nROM.startPtr = 0;\nROM.endPtr = 0;\nROM.totalPages = 0;\nROM.basePageIndex = 0;\n;","map":{"version":3,"names":["WPC","logStr","ROM","constructor","data","setRom","init","instance","byteAtAddr","Addr","size","currentData","Length","length","endPtr","totalPages","Math","floor","PageLength","startPtr","basePageIndex","nonPagedBankAddr","BaseCodeAddrNonpagedRom"],"sources":["/Users/permartinson/Documents/GitHub/wpcedit-vue/node_modules/wpcedit/dist/src/stores/ROM.js"],"sourcesContent":["import { WPC } from \"../resources/Constants.js\";\nimport { logStr } from \"../resources/Helpers.js\";\nexport class ROM {\n    constructor(data) {\n        ROM.setRom(data);\n    }\n    static init(data) {\n        if (ROM.instance) {\n            return this.instance;\n        }\n        this.instance = new ROM(data);\n        return this.instance;\n    }\n    static byteAtAddr(Addr) {\n        if (Addr > ROM.size) {\n            logStr(\"ERROR: Address is out of range!\");\n        }\n        return this.currentData[Addr] & 0xFF;\n    }\n    static setRom(data) {\n        const Length = data.length;\n        if (Length != 0x40000 && Length != 0x80000 && Length != 0x100000) {\n            logStr(\"ROM doesn't appear to be a WPC rom image\");\n            return;\n        }\n        ROM.size = Length;\n        ROM.endPtr = Length;\n        ROM.currentData = data;\n        ROM.totalPages = Math.floor((Length + (WPC.PageLength - 1)) / WPC.PageLength);\n        ROM.startPtr = 0;\n        ROM.endPtr = ROM.size - 1;\n        ROM.basePageIndex = ROM.byteAtAddr(ROM.startPtr) & 0xff;\n        return true;\n    }\n    static get data() {\n        return ROM.currentData;\n    }\n    static set data(data) {\n        ROM.setRom(data);\n    }\n    static get nonPagedBankAddr() {\n        return ROM.size - WPC.BaseCodeAddrNonpagedRom;\n    }\n}\nROM.size = 0;\nROM.startPtr = 0;\nROM.endPtr = 0;\nROM.totalPages = 0;\nROM.basePageIndex = 0;\n;\n"],"mappings":"AAAA,SAASA,GAAG,QAAQ,2BAA2B;AAC/C,SAASC,MAAM,QAAQ,yBAAyB;AAChD,OAAO,MAAMC,GAAG,CAAC;EACbC,WAAW,CAACC,IAAI,EAAE;IACdF,GAAG,CAACG,MAAM,CAACD,IAAI,CAAC;EACpB;EACA,OAAOE,IAAI,CAACF,IAAI,EAAE;IACd,IAAIF,GAAG,CAACK,QAAQ,EAAE;MACd,OAAO,IAAI,CAACA,QAAQ;IACxB;IACA,IAAI,CAACA,QAAQ,GAAG,IAAIL,GAAG,CAACE,IAAI,CAAC;IAC7B,OAAO,IAAI,CAACG,QAAQ;EACxB;EACA,OAAOC,UAAU,CAACC,IAAI,EAAE;IACpB,IAAIA,IAAI,GAAGP,GAAG,CAACQ,IAAI,EAAE;MACjBT,MAAM,CAAC,iCAAiC,CAAC;IAC7C;IACA,OAAO,IAAI,CAACU,WAAW,CAACF,IAAI,CAAC,GAAG,IAAI;EACxC;EACA,OAAOJ,MAAM,CAACD,IAAI,EAAE;IAChB,MAAMQ,MAAM,GAAGR,IAAI,CAACS,MAAM;IAC1B,IAAID,MAAM,IAAI,OAAO,IAAIA,MAAM,IAAI,OAAO,IAAIA,MAAM,IAAI,QAAQ,EAAE;MAC9DX,MAAM,CAAC,0CAA0C,CAAC;MAClD;IACJ;IACAC,GAAG,CAACQ,IAAI,GAAGE,MAAM;IACjBV,GAAG,CAACY,MAAM,GAAGF,MAAM;IACnBV,GAAG,CAACS,WAAW,GAAGP,IAAI;IACtBF,GAAG,CAACa,UAAU,GAAGC,IAAI,CAACC,KAAK,CAAC,CAACL,MAAM,IAAIZ,GAAG,CAACkB,UAAU,GAAG,CAAC,CAAC,IAAIlB,GAAG,CAACkB,UAAU,CAAC;IAC7EhB,GAAG,CAACiB,QAAQ,GAAG,CAAC;IAChBjB,GAAG,CAACY,MAAM,GAAGZ,GAAG,CAACQ,IAAI,GAAG,CAAC;IACzBR,GAAG,CAACkB,aAAa,GAAGlB,GAAG,CAACM,UAAU,CAACN,GAAG,CAACiB,QAAQ,CAAC,GAAG,IAAI;IACvD,OAAO,IAAI;EACf;EACA,WAAWf,IAAI,GAAG;IACd,OAAOF,GAAG,CAACS,WAAW;EAC1B;EACA,WAAWP,IAAI,CAACA,IAAI,EAAE;IAClBF,GAAG,CAACG,MAAM,CAACD,IAAI,CAAC;EACpB;EACA,WAAWiB,gBAAgB,GAAG;IAC1B,OAAOnB,GAAG,CAACQ,IAAI,GAAGV,GAAG,CAACsB,uBAAuB;EACjD;AACJ;AACApB,GAAG,CAACQ,IAAI,GAAG,CAAC;AACZR,GAAG,CAACiB,QAAQ,GAAG,CAAC;AAChBjB,GAAG,CAACY,MAAM,GAAG,CAAC;AACdZ,GAAG,CAACa,UAAU,GAAG,CAAC;AAClBb,GAAG,CAACkB,aAAa,GAAG,CAAC;AACrB"},"metadata":{},"sourceType":"module","externalDependencies":[]}