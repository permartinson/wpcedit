{"ast":null,"code":"onmessage = function (event) {\n  const data = event.data;\n  const DOT_SIZE = 2;\n  const canvas = data.canvas;\n  const ctx = canvas.getContext('2d');\n  const plane = data.plane;\n  for (let i = 0; i < 128 * 32; i++) {\n    const dotX = i % 128 * DOT_SIZE;\n    const dotY = Math.floor(i / 128) * DOT_SIZE;\n    const width = 128;\n    const col = i % width;\n    const byte = Math.floor(i / 8);\n    const bitPos = col % 8;\n    const dotVal = (plane[byte] & 0xFF) >> bitPos & 1;\n    ctx.beginPath();\n    ctx.beginPath();\n    ctx.rect(dotX, dotY, DOT_SIZE, DOT_SIZE);\n    ctx.fillStyle = `rgba(250, 136, 2, ${dotVal * 255})`;\n    ctx.fill();\n  }\n  const bitmap = canvas.transferToImageBitmap();\n  self.postMessage({\n    msg: 'render',\n    bitmap\n  });\n};","map":{"version":3,"names":["onmessage","event","data","DOT_SIZE","canvas","ctx","getContext","plane","i","dotX","dotY","Math","floor","width","col","byte","bitPos","dotVal","beginPath","rect","fillStyle","fill","bitmap","transferToImageBitmap","self","postMessage","msg"],"sources":["/Users/permartinson/Documents/GitHub/wpcedit-vue/src/workers/drawFullFrame.js"],"sourcesContent":["\nonmessage = function(event) {\n    const data = event.data\n    const DOT_SIZE = 2;\n    const canvas = data.canvas;\n    const ctx = canvas.getContext('2d');\n    const plane = data.plane;\n    for(let i=0; i<128*32; i++) {\n        const dotX = (i % 128) * DOT_SIZE;\n        const dotY = Math.floor(i / 128) * DOT_SIZE;\n        \n        const width = 128;\n        const col = i % width;\n        const byte = Math.floor(i/8);\n        const bitPos = (col % 8);\n        const dotVal =  ( plane[byte] & 0xFF ) >> (bitPos) & 1;\n        \n        ctx.beginPath();\n        ctx.beginPath();\n        ctx.rect(dotX, dotY, DOT_SIZE, DOT_SIZE);\n        ctx.fillStyle = `rgba(250, 136, 2, ${dotVal*255})`;\n        ctx.fill();\n    }\n    \n    const bitmap = canvas.transferToImageBitmap();\n    self.postMessage({msg: 'render', bitmap});\n  }"],"mappings":"AACAA,SAAS,GAAG,UAASC,KAAK,EAAE;EACxB,MAAMC,IAAI,GAAGD,KAAK,CAACC,IAAI;EACvB,MAAMC,QAAQ,GAAG,CAAC;EAClB,MAAMC,MAAM,GAAGF,IAAI,CAACE,MAAM;EAC1B,MAAMC,GAAG,GAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC;EACnC,MAAMC,KAAK,GAAGL,IAAI,CAACK,KAAK;EACxB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAAEA,CAAC,GAAC,GAAG,GAAC,EAAE,EAAEA,CAAC,EAAE,EAAE;IACxB,MAAMC,IAAI,GAAID,CAAC,GAAG,GAAG,GAAIL,QAAQ;IACjC,MAAMO,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,CAAC,GAAG,GAAG,CAAC,GAAGL,QAAQ;IAE3C,MAAMU,KAAK,GAAG,GAAG;IACjB,MAAMC,GAAG,GAAGN,CAAC,GAAGK,KAAK;IACrB,MAAME,IAAI,GAAGJ,IAAI,CAACC,KAAK,CAACJ,CAAC,GAAC,CAAC,CAAC;IAC5B,MAAMQ,MAAM,GAAIF,GAAG,GAAG,CAAE;IACxB,MAAMG,MAAM,GAAI,CAAEV,KAAK,CAACQ,IAAI,CAAC,GAAG,IAAI,KAAOC,MAAO,GAAG,CAAC;IAEtDX,GAAG,CAACa,SAAS,EAAE;IACfb,GAAG,CAACa,SAAS,EAAE;IACfb,GAAG,CAACc,IAAI,CAACV,IAAI,EAAEC,IAAI,EAAEP,QAAQ,EAAEA,QAAQ,CAAC;IACxCE,GAAG,CAACe,SAAS,GAAI,qBAAoBH,MAAM,GAAC,GAAI,GAAE;IAClDZ,GAAG,CAACgB,IAAI,EAAE;EACd;EAEA,MAAMC,MAAM,GAAGlB,MAAM,CAACmB,qBAAqB,EAAE;EAC7CC,IAAI,CAACC,WAAW,CAAC;IAACC,GAAG,EAAE,QAAQ;IAAEJ;EAAM,CAAC,CAAC;AAC3C,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}