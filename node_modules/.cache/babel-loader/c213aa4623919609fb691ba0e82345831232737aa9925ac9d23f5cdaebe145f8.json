{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loader;\nexports.pitch = pitch;\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _loaderUtils = require(\"loader-utils\");\nvar _schemaUtils = require(\"schema-utils\");\nvar _NodeTargetPlugin = _interopRequireDefault(require(\"webpack/lib/node/NodeTargetPlugin\"));\nvar _SingleEntryPlugin = _interopRequireDefault(require(\"webpack/lib/SingleEntryPlugin\"));\nvar _WebWorkerTemplatePlugin = _interopRequireDefault(require(\"webpack/lib/webworker/WebWorkerTemplatePlugin\"));\nvar _ExternalsPlugin = _interopRequireDefault(require(\"webpack/lib/ExternalsPlugin\"));\nvar _options = _interopRequireDefault(require(\"./options.json\"));\nvar _supportWebpack = _interopRequireDefault(require(\"./supportWebpack5\"));\nvar _supportWebpack2 = _interopRequireDefault(require(\"./supportWebpack4\"));\nvar _utils = require(\"./utils\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nlet FetchCompileWasmPlugin;\nlet FetchCompileAsyncWasmPlugin; // determine the version of webpack peer dependency\n// eslint-disable-next-line global-require, import/no-unresolved\n\nconst useWebpack5 = require(\"webpack/package.json\").version.startsWith(\"5.\");\nif (useWebpack5) {\n  // eslint-disable-next-line global-require, import/no-unresolved\n  FetchCompileWasmPlugin = require(\"webpack/lib/web/FetchCompileWasmPlugin\"); // eslint-disable-next-line global-require, import/no-unresolved\n\n  FetchCompileAsyncWasmPlugin = require(\"webpack/lib/web/FetchCompileAsyncWasmPlugin\");\n} else {\n  // eslint-disable-next-line global-require, import/no-unresolved\n  FetchCompileWasmPlugin = require(\"webpack/lib/web/FetchCompileWasmTemplatePlugin\");\n}\nfunction loader() {}\nfunction pitch(request) {\n  this.cacheable(false);\n  const options = (0, _loaderUtils.getOptions)(this);\n  (0, _schemaUtils.validate)(_options.default, options, {\n    name: \"Worker Loader\",\n    baseDataPath: \"options\"\n  });\n  const workerContext = {};\n  const compilerOptions = this._compiler.options || {};\n  const filename = options.filename ? options.filename : (0, _utils.getDefaultFilename)(compilerOptions.output.filename);\n  const chunkFilename = options.chunkFilename ? options.chunkFilename : (0, _utils.getDefaultChunkFilename)(compilerOptions.output.chunkFilename);\n  const publicPath = options.publicPath ? options.publicPath : compilerOptions.output.publicPath;\n  workerContext.options = {\n    filename,\n    chunkFilename,\n    publicPath,\n    globalObject: \"self\"\n  };\n  workerContext.compiler = this._compilation.createChildCompiler(`worker-loader ${request}`, workerContext.options);\n  new _WebWorkerTemplatePlugin.default().apply(workerContext.compiler);\n  if (this.target !== \"webworker\" && this.target !== \"web\") {\n    new _NodeTargetPlugin.default().apply(workerContext.compiler);\n  }\n  if (FetchCompileWasmPlugin) {\n    new FetchCompileWasmPlugin({\n      mangleImports: compilerOptions.optimization.mangleWasmImports\n    }).apply(workerContext.compiler);\n  }\n  if (FetchCompileAsyncWasmPlugin) {\n    new FetchCompileAsyncWasmPlugin().apply(workerContext.compiler);\n  }\n  if (compilerOptions.externals) {\n    new _ExternalsPlugin.default((0, _utils.getExternalsType)(compilerOptions), compilerOptions.externals).apply(workerContext.compiler);\n  }\n  new _SingleEntryPlugin.default(this.context, `!!${request}`, _path.default.parse(this.resourcePath).name).apply(workerContext.compiler);\n  workerContext.request = request;\n  const cb = this.async();\n  if (workerContext.compiler.cache && typeof workerContext.compiler.cache.get === \"function\") {\n    (0, _supportWebpack.default)(this, workerContext, options, cb);\n  } else {\n    (0, _supportWebpack2.default)(this, workerContext, options, cb);\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","default","loader","pitch","_path","_interopRequireDefault","require","_loaderUtils","_schemaUtils","_NodeTargetPlugin","_SingleEntryPlugin","_WebWorkerTemplatePlugin","_ExternalsPlugin","_options","_supportWebpack","_supportWebpack2","_utils","obj","__esModule","FetchCompileWasmPlugin","FetchCompileAsyncWasmPlugin","useWebpack5","version","startsWith","request","cacheable","options","getOptions","validate","name","baseDataPath","workerContext","compilerOptions","_compiler","filename","getDefaultFilename","output","chunkFilename","getDefaultChunkFilename","publicPath","globalObject","compiler","_compilation","createChildCompiler","apply","target","mangleImports","optimization","mangleWasmImports","externals","getExternalsType","context","parse","resourcePath","cb","async","cache","get"],"sources":["/Users/permartinson/Documents/GitHub/wpcedit-vue/node_modules/worker-loader/dist/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = loader;\nexports.pitch = pitch;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _loaderUtils = require(\"loader-utils\");\n\nvar _schemaUtils = require(\"schema-utils\");\n\nvar _NodeTargetPlugin = _interopRequireDefault(require(\"webpack/lib/node/NodeTargetPlugin\"));\n\nvar _SingleEntryPlugin = _interopRequireDefault(require(\"webpack/lib/SingleEntryPlugin\"));\n\nvar _WebWorkerTemplatePlugin = _interopRequireDefault(require(\"webpack/lib/webworker/WebWorkerTemplatePlugin\"));\n\nvar _ExternalsPlugin = _interopRequireDefault(require(\"webpack/lib/ExternalsPlugin\"));\n\nvar _options = _interopRequireDefault(require(\"./options.json\"));\n\nvar _supportWebpack = _interopRequireDefault(require(\"./supportWebpack5\"));\n\nvar _supportWebpack2 = _interopRequireDefault(require(\"./supportWebpack4\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet FetchCompileWasmPlugin;\nlet FetchCompileAsyncWasmPlugin; // determine the version of webpack peer dependency\n// eslint-disable-next-line global-require, import/no-unresolved\n\nconst useWebpack5 = require(\"webpack/package.json\").version.startsWith(\"5.\");\n\nif (useWebpack5) {\n  // eslint-disable-next-line global-require, import/no-unresolved\n  FetchCompileWasmPlugin = require(\"webpack/lib/web/FetchCompileWasmPlugin\"); // eslint-disable-next-line global-require, import/no-unresolved\n\n  FetchCompileAsyncWasmPlugin = require(\"webpack/lib/web/FetchCompileAsyncWasmPlugin\");\n} else {\n  // eslint-disable-next-line global-require, import/no-unresolved\n  FetchCompileWasmPlugin = require(\"webpack/lib/web/FetchCompileWasmTemplatePlugin\");\n}\n\nfunction loader() {}\n\nfunction pitch(request) {\n  this.cacheable(false);\n  const options = (0, _loaderUtils.getOptions)(this);\n  (0, _schemaUtils.validate)(_options.default, options, {\n    name: \"Worker Loader\",\n    baseDataPath: \"options\"\n  });\n  const workerContext = {};\n  const compilerOptions = this._compiler.options || {};\n  const filename = options.filename ? options.filename : (0, _utils.getDefaultFilename)(compilerOptions.output.filename);\n  const chunkFilename = options.chunkFilename ? options.chunkFilename : (0, _utils.getDefaultChunkFilename)(compilerOptions.output.chunkFilename);\n  const publicPath = options.publicPath ? options.publicPath : compilerOptions.output.publicPath;\n  workerContext.options = {\n    filename,\n    chunkFilename,\n    publicPath,\n    globalObject: \"self\"\n  };\n  workerContext.compiler = this._compilation.createChildCompiler(`worker-loader ${request}`, workerContext.options);\n  new _WebWorkerTemplatePlugin.default().apply(workerContext.compiler);\n\n  if (this.target !== \"webworker\" && this.target !== \"web\") {\n    new _NodeTargetPlugin.default().apply(workerContext.compiler);\n  }\n\n  if (FetchCompileWasmPlugin) {\n    new FetchCompileWasmPlugin({\n      mangleImports: compilerOptions.optimization.mangleWasmImports\n    }).apply(workerContext.compiler);\n  }\n\n  if (FetchCompileAsyncWasmPlugin) {\n    new FetchCompileAsyncWasmPlugin().apply(workerContext.compiler);\n  }\n\n  if (compilerOptions.externals) {\n    new _ExternalsPlugin.default((0, _utils.getExternalsType)(compilerOptions), compilerOptions.externals).apply(workerContext.compiler);\n  }\n\n  new _SingleEntryPlugin.default(this.context, `!!${request}`, _path.default.parse(this.resourcePath).name).apply(workerContext.compiler);\n  workerContext.request = request;\n  const cb = this.async();\n\n  if (workerContext.compiler.cache && typeof workerContext.compiler.cache.get === \"function\") {\n    (0, _supportWebpack.default)(this, workerContext, options, cb);\n  } else {\n    (0, _supportWebpack2.default)(this, workerContext, options, cb);\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}