{"ast":null,"code":"import { DataParser } from \"./classes/DataParser.js\";\nimport { Settings } from \"./stores/Settings.js\";\nimport { VariableSizedImageData } from \"./stores/VariableSizedImageData.js\";\nimport { FullFrameImageData } from \"./stores/FullFrameImageData.js\";\nimport { VariableSizedImage } from \"./classes/VariableSizedImage.js\";\nimport { FullFrameImage } from \"./classes/FullFrameImage.js\";\nimport { ROM } from \"./stores/ROM.js\";\nimport { DataTypes } from \"./resources/Constants.js\";\nimport { Checksum } from \"./classes/Checksum.js\";\nexport class WPCEdit {\n  constructor(mode = 1) {\n    Settings.DataType = mode;\n    Settings.init();\n    FullFrameImageData.init();\n    VariableSizedImageData.init();\n  }\n  static init(mode = 1) {\n    if (WPCEdit.instance) {\n      return this.instance;\n    }\n    this.instance = new WPCEdit(mode);\n    return this.instance;\n  }\n  static reloadData() {\n    VariableSizedImageData.CurrentImageIndex = 0;\n    VariableSizedImageData.CurrentTableIndex = 0;\n    VariableSizedImageData.maxImageIndex = 0;\n    VariableSizedImageData.maxTableIndex = 0;\n    VariableSizedImageData.minImageIndex = 0;\n    VariableSizedImageData.minTableIndex = 0;\n    if (DataParser.initTableAddrs(DataTypes.FontData) != 0) {\n      console.warn(\"Could not determine data table location in ROM image\");\n    }\n    FullFrameImageData.CurrentImageIndex = 0;\n    if (DataParser.preAnalyzeVariableSizedImageTable() == -1) {\n      console.warn(\"Error from DataParser.preAnalyzeVariableSizedImageTable()\");\n      return false;\n    }\n    VariableSizedImageData.CurrentTableIndex = VariableSizedImageData.minTableIndex;\n    VariableSizedImageData.CurrentImageIndex = DataParser.getFirstImageIndex(VariableSizedImageData.CurrentTableIndex);\n    if (VariableSizedImageData.CurrentImageIndex == -1) {\n      console.warn(\"Error setting up first image index\");\n      return false;\n    }\n    if (FullFrameImageData.TableAddress != 0) {}\n    return true;\n  }\n  static setRom(data) {\n    ROM.data = data;\n    if (this.reloadData()) {\n      return true;\n    } else {\n      console.warn(\"Error loading game rom.\");\n      return false;\n    }\n  }\n  static get verbose() {\n    return Settings.VerboseMode;\n  }\n  static set verbose(state) {\n    Settings.VerboseMode = state;\n  }\n}\nWPCEdit.fullFrameImage = FullFrameImage.init();\nWPCEdit.variableSizedImage = VariableSizedImage.init();\nWPCEdit.checksum = Checksum;\n;","map":{"version":3,"names":["DataParser","Settings","VariableSizedImageData","FullFrameImageData","VariableSizedImage","FullFrameImage","ROM","DataTypes","Checksum","WPCEdit","constructor","mode","DataType","init","instance","reloadData","CurrentImageIndex","CurrentTableIndex","maxImageIndex","maxTableIndex","minImageIndex","minTableIndex","initTableAddrs","FontData","console","warn","preAnalyzeVariableSizedImageTable","getFirstImageIndex","TableAddress","setRom","data","verbose","VerboseMode","state","fullFrameImage","variableSizedImage","checksum"],"sources":["/Users/permartinson/Documents/GitHub/wpcedit-vue/node_modules/wpcedit/dist/WPCEdit.js"],"sourcesContent":["import { DataParser } from \"./classes/DataParser.js\";\nimport { Settings } from \"./stores/Settings.js\";\nimport { VariableSizedImageData } from \"./stores/VariableSizedImageData.js\";\nimport { FullFrameImageData } from \"./stores/FullFrameImageData.js\";\nimport { VariableSizedImage } from \"./classes/VariableSizedImage.js\";\nimport { FullFrameImage } from \"./classes/FullFrameImage.js\";\nimport { ROM } from \"./stores/ROM.js\";\nimport { DataTypes } from \"./resources/Constants.js\";\nimport { Checksum } from \"./classes/Checksum.js\";\nexport class WPCEdit {\n    constructor(mode = 1) {\n        Settings.DataType = mode;\n        Settings.init();\n        FullFrameImageData.init();\n        VariableSizedImageData.init();\n    }\n    static init(mode = 1) {\n        if (WPCEdit.instance) {\n            return this.instance;\n        }\n        this.instance = new WPCEdit(mode);\n        return this.instance;\n    }\n    static reloadData() {\n        VariableSizedImageData.CurrentImageIndex = 0;\n        VariableSizedImageData.CurrentTableIndex = 0;\n        VariableSizedImageData.maxImageIndex = 0;\n        VariableSizedImageData.maxTableIndex = 0;\n        VariableSizedImageData.minImageIndex = 0;\n        VariableSizedImageData.minTableIndex = 0;\n        if (DataParser.initTableAddrs(DataTypes.FontData) != 0) {\n            console.warn(\"Could not determine data table location in ROM image\");\n        }\n        FullFrameImageData.CurrentImageIndex = 0;\n        if (DataParser.preAnalyzeVariableSizedImageTable() == -1) {\n            console.warn(\"Error from DataParser.preAnalyzeVariableSizedImageTable()\");\n            return false;\n        }\n        VariableSizedImageData.CurrentTableIndex = VariableSizedImageData.minTableIndex;\n        VariableSizedImageData.CurrentImageIndex = DataParser.getFirstImageIndex(VariableSizedImageData.CurrentTableIndex);\n        if (VariableSizedImageData.CurrentImageIndex == -1) {\n            console.warn(\"Error setting up first image index\");\n            return false;\n        }\n        if (FullFrameImageData.TableAddress != 0) {\n        }\n        return true;\n    }\n    static setRom(data) {\n        ROM.data = data;\n        if (this.reloadData()) {\n            return true;\n        }\n        else {\n            console.warn(\"Error loading game rom.\");\n            return false;\n        }\n    }\n    static get verbose() {\n        return Settings.VerboseMode;\n    }\n    static set verbose(state) {\n        Settings.VerboseMode = state;\n    }\n}\nWPCEdit.fullFrameImage = FullFrameImage.init();\nWPCEdit.variableSizedImage = VariableSizedImage.init();\nWPCEdit.checksum = Checksum;\n;\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,yBAAyB;AACpD,SAASC,QAAQ,QAAQ,sBAAsB;AAC/C,SAASC,sBAAsB,QAAQ,oCAAoC;AAC3E,SAASC,kBAAkB,QAAQ,gCAAgC;AACnE,SAASC,kBAAkB,QAAQ,iCAAiC;AACpE,SAASC,cAAc,QAAQ,6BAA6B;AAC5D,SAASC,GAAG,QAAQ,iBAAiB;AACrC,SAASC,SAAS,QAAQ,0BAA0B;AACpD,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,OAAO,MAAMC,OAAO,CAAC;EACjBC,WAAW,CAACC,IAAI,GAAG,CAAC,EAAE;IAClBV,QAAQ,CAACW,QAAQ,GAAGD,IAAI;IACxBV,QAAQ,CAACY,IAAI,EAAE;IACfV,kBAAkB,CAACU,IAAI,EAAE;IACzBX,sBAAsB,CAACW,IAAI,EAAE;EACjC;EACA,OAAOA,IAAI,CAACF,IAAI,GAAG,CAAC,EAAE;IAClB,IAAIF,OAAO,CAACK,QAAQ,EAAE;MAClB,OAAO,IAAI,CAACA,QAAQ;IACxB;IACA,IAAI,CAACA,QAAQ,GAAG,IAAIL,OAAO,CAACE,IAAI,CAAC;IACjC,OAAO,IAAI,CAACG,QAAQ;EACxB;EACA,OAAOC,UAAU,GAAG;IAChBb,sBAAsB,CAACc,iBAAiB,GAAG,CAAC;IAC5Cd,sBAAsB,CAACe,iBAAiB,GAAG,CAAC;IAC5Cf,sBAAsB,CAACgB,aAAa,GAAG,CAAC;IACxChB,sBAAsB,CAACiB,aAAa,GAAG,CAAC;IACxCjB,sBAAsB,CAACkB,aAAa,GAAG,CAAC;IACxClB,sBAAsB,CAACmB,aAAa,GAAG,CAAC;IACxC,IAAIrB,UAAU,CAACsB,cAAc,CAACf,SAAS,CAACgB,QAAQ,CAAC,IAAI,CAAC,EAAE;MACpDC,OAAO,CAACC,IAAI,CAAC,sDAAsD,CAAC;IACxE;IACAtB,kBAAkB,CAACa,iBAAiB,GAAG,CAAC;IACxC,IAAIhB,UAAU,CAAC0B,iCAAiC,EAAE,IAAI,CAAC,CAAC,EAAE;MACtDF,OAAO,CAACC,IAAI,CAAC,2DAA2D,CAAC;MACzE,OAAO,KAAK;IAChB;IACAvB,sBAAsB,CAACe,iBAAiB,GAAGf,sBAAsB,CAACmB,aAAa;IAC/EnB,sBAAsB,CAACc,iBAAiB,GAAGhB,UAAU,CAAC2B,kBAAkB,CAACzB,sBAAsB,CAACe,iBAAiB,CAAC;IAClH,IAAIf,sBAAsB,CAACc,iBAAiB,IAAI,CAAC,CAAC,EAAE;MAChDQ,OAAO,CAACC,IAAI,CAAC,oCAAoC,CAAC;MAClD,OAAO,KAAK;IAChB;IACA,IAAItB,kBAAkB,CAACyB,YAAY,IAAI,CAAC,EAAE,CAC1C;IACA,OAAO,IAAI;EACf;EACA,OAAOC,MAAM,CAACC,IAAI,EAAE;IAChBxB,GAAG,CAACwB,IAAI,GAAGA,IAAI;IACf,IAAI,IAAI,CAACf,UAAU,EAAE,EAAE;MACnB,OAAO,IAAI;IACf,CAAC,MACI;MACDS,OAAO,CAACC,IAAI,CAAC,yBAAyB,CAAC;MACvC,OAAO,KAAK;IAChB;EACJ;EACA,WAAWM,OAAO,GAAG;IACjB,OAAO9B,QAAQ,CAAC+B,WAAW;EAC/B;EACA,WAAWD,OAAO,CAACE,KAAK,EAAE;IACtBhC,QAAQ,CAAC+B,WAAW,GAAGC,KAAK;EAChC;AACJ;AACAxB,OAAO,CAACyB,cAAc,GAAG7B,cAAc,CAACQ,IAAI,EAAE;AAC9CJ,OAAO,CAAC0B,kBAAkB,GAAG/B,kBAAkB,CAACS,IAAI,EAAE;AACtDJ,OAAO,CAAC2B,QAAQ,GAAG5B,QAAQ;AAC3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}