{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DirectionalButton from './buttons/DirectionalButton.vue';\nimport StandardButton from './buttons/StandardButton.vue';\nimport AlertDialog from '../ui/modals/AlertDialog.vue';\nimport CheckBox from '../ui/CheckBox.vue';\nimport LargeIcon from '../icons/LargeIcon.vue';\nimport SaveSection from './SaveSection.vue';\nimport store from \"../../stores/store.js\";\nimport { storeToRefs } from 'pinia';\nimport { useWpcEditStore } from '../../stores/wpcEditStore.js';\nconst WpcEditStore = useWpcEditStore(store);\nexport default {\n  name: \"TopBar\",\n  props: {\n    title: String,\n    showBackButton: Boolean\n  },\n  setup() {\n    const {\n      romIsLoaded,\n      romIsAltered,\n      fileName,\n      warnings\n    } = storeToRefs(WpcEditStore);\n    return {\n      romIsLoaded,\n      romIsAltered,\n      fileName,\n      warnings\n    };\n  },\n  data() {\n    return {\n      showAlert: false,\n      checkBoxIsSelected: false\n    };\n  },\n  methods: {\n    goHome() {\n      this.$router.push('/');\n    },\n    download() {\n      WpcEditStore.downloadRom();\n    },\n    cancel() {\n      this.showAlert = false;\n    },\n    continueClicked() {\n      if (this.checkBoxIsSelected) {\n        this.warnings.unload++;\n      }\n      this.continueUnload();\n    },\n    checkboxClicked(state) {\n      if (state == true) {\n        this.checkBoxIsSelected = true;\n      } else if (state == false) {\n        this.checkBoxIsSelected = false;\n      }\n    },\n    unload() {\n      if (this.romIsAltered && this.warnings.unload < 1) {\n        this.showAlert = true;\n      } else {\n        this.continueUnload();\n      }\n    },\n    continueUnload() {\n      this.showAlert = false;\n      WpcEditStore.unloadRom();\n      this.$router.push('/');\n    }\n  },\n  components: {\n    DirectionalButton,\n    StandardButton,\n    LargeIcon,\n    SaveSection,\n    AlertDialog,\n    CheckBox\n  }\n};","map":{"version":3,"mappings":";AAqBA,OAAOA,iBAAgB,MAAO,iCAAiC;AAC/D,OAAOC,cAAa,MAAO,8BAA8B;AACzD,OAAOC,WAAU,MAAO,8BAA8B;AACtD,OAAOC,QAAO,MAAO,oBAAoB;AACzC,OAAOC,SAAQ,MAAO,wBAAwB;AAC9C,OAAOC,WAAU,MAAO,mBAAmB;AAC3C,OAAOC,KAAI,MAAO,uBAAuB;AACzC,SAASC,WAAU,QAAS,OAAO;AACnC,SAASC,eAAc,QAAS,8BAA6B;AAE7D,MAAMC,YAAW,GAAID,eAAe,CAACF,KAAK,CAAC;AAE3C,eAAe;EACXI,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE;IACHC,KAAK,EAAEC,MAAM;IACbC,cAAc,EAAEC;EACpB,CAAC;EACDC,KAAK,GAAG;IACN,MAAM;MAAEC,WAAW;MAAEC,YAAY;MAAEC,QAAQ;MAAEC;IAAS,IAAIb,WAAW,CAACE,YAAY,CAAC;IACnF,OAAO;MACLQ,WAAW;MAAEC,YAAY;MAAEC,QAAQ;MAAEC;IACvC;EACF,CAAC;EACDC,IAAI,GAAG;IACL,OAAO;MACLC,SAAS,EAAE,KAAK;MAChBC,kBAAkB,EAAE;IACtB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,MAAM,GAAG;MACP,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IACtB,CAAC;IACHC,QAAQ,GAAG;MACTnB,YAAY,CAACoB,WAAW,EAAE;IAC5B,CAAC;IACDC,MAAM,GAAG;MACP,IAAI,CAACR,SAAQ,GAAI,KAAK;IACxB,CAAC;IACDS,eAAe,GAAG;MAChB,IAAG,IAAI,CAACR,kBAAkB,EAAE;QAC1B,IAAI,CAACH,QAAQ,CAACY,MAAM,EAAE;MACxB;MACA,IAAI,CAACC,cAAc,EAAE;IACvB,CAAC;IACDC,eAAe,CAACC,KAAK,EAAE;MACrB,IAAGA,KAAI,IAAK,IAAI,EAAE;QAChB,IAAI,CAACZ,kBAAiB,GAAI,IAAI;MAChC,OAAO,IAAGY,KAAI,IAAK,KAAK,EAAE;QACxB,IAAI,CAACZ,kBAAiB,GAAI,KAAK;MACjC;IACF,CAAC;IACDS,MAAM,GAAG;MACP,IAAG,IAAI,CAACd,YAAW,IAAK,IAAI,CAACE,QAAQ,CAACY,MAAK,GAAI,CAAC,EAAE;QAChD,IAAI,CAACV,SAAQ,GAAI,IAAI;MACvB,OAAO;QACL,IAAI,CAACW,cAAc,EAAE;MACvB;IACF,CAAC;IACDA,cAAc,GAAG;MACf,IAAI,CAACX,SAAQ,GAAI,KAAK;MACtBb,YAAY,CAAC2B,SAAS,EAAE;MACxB,IAAI,CAACV,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IACxB;EACF,CAAC;EACDU,UAAU,EAAE;IACZrC,iBAAiB;IACjBC,cAAc;IACdG,SAAS;IACTC,WAAW;IACXH,WAAW;IACXC;EACF;AACF","names":["DirectionalButton","StandardButton","AlertDialog","CheckBox","LargeIcon","SaveSection","store","storeToRefs","useWpcEditStore","WpcEditStore","name","props","title","String","showBackButton","Boolean","setup","romIsLoaded","romIsAltered","fileName","warnings","data","showAlert","checkBoxIsSelected","methods","goHome","$router","push","download","downloadRom","cancel","continueClicked","unload","continueUnload","checkboxClicked","state","unloadRom","components"],"sourceRoot":"","sources":["/Users/permartinson/Documents/GitHub/wpcedit-vue/src/components/ui/TopBar.vue"],"sourcesContent":["<template>\n  <div class=\"bar-container\">\n    <div class=\"spacer back\"><DirectionalButton v-if=\"showBackButton\" @click=\"goHome\" size=\"large\"><LargeIcon type=\"left\"></LargeIcon>Back</DirectionalButton></div>\n    <div class=\"spacer title\"><h1 class=\"bar-title\">{{ title }}</h1></div>\n    <div class=\"spacer save\">\n      <SaveSection :romIsLoaded=\"romIsLoaded\" :romIsAltered=\"romIsAltered\" :fileName=\"fileName\" @save=\"download\" @unload=\"unload\">\n      </SaveSection>\n    </div>\n      <AlertDialog :show=\"showAlert\" title=\"Warning!\">\n        <p class=\"body-sm\">You have made modifications to this ROM.</p>\n        <p class=\"body-sm\">Make sure you save any changes you want to keep before unload, or they will be lost!</p>\n        <CheckBox @change=\"checkboxClicked\" :checked=\"false\" label=\"Don't show this warning again\" ref=\"alertCheck\"></CheckBox>\n        <div class=\"alert-footer\">\n          <StandardButton type=\"primary\" @click=\"cancel\">Cancel</StandardButton>\n          <StandardButton @click=\"continueClicked\">Unload ROM</StandardButton>\n        </div>\n    </AlertDialog>\n  </div>\n</template>\n\n<script>\nimport DirectionalButton from './buttons/DirectionalButton.vue';\nimport StandardButton from './buttons/StandardButton.vue';\nimport AlertDialog from '../ui/modals/AlertDialog.vue';\nimport CheckBox from '../ui/CheckBox.vue';\nimport LargeIcon from '../icons/LargeIcon.vue';\nimport SaveSection from './SaveSection.vue';\nimport store from \"../../stores/store.js\";\nimport { storeToRefs } from 'pinia';\nimport { useWpcEditStore } from '../../stores/wpcEditStore.js'\n\nconst WpcEditStore = useWpcEditStore(store);\n\nexport default {\n    name: \"TopBar\",\n    props: {\n        title: String,\n        showBackButton: Boolean\n    },\n    setup() {\n      const { romIsLoaded, romIsAltered, fileName, warnings } = storeToRefs(WpcEditStore);\n      return {\n        romIsLoaded, romIsAltered, fileName, warnings\n      }\n    },\n    data() {\n      return {\n        showAlert: false,\n        checkBoxIsSelected: false\n      }\n    },\n    methods: {\n      goHome() {\n        this.$router.push('/');\n        },\n      download() {\n        WpcEditStore.downloadRom();\n      },\n      cancel() {\n        this.showAlert = false;\n      },\n      continueClicked() {\n        if(this.checkBoxIsSelected) {\n          this.warnings.unload++;\n        }\n        this.continueUnload();\n      },\n      checkboxClicked(state) {\n        if(state == true) {\n          this.checkBoxIsSelected = true;\n        } else if(state == false) {\n          this.checkBoxIsSelected = false;\n        }\n      },\n      unload() {\n        if(this.romIsAltered && this.warnings.unload < 1) {\n          this.showAlert = true;\n        } else {\n          this.continueUnload();\n        }\n      },\n      continueUnload() {\n        this.showAlert = false;\n        WpcEditStore.unloadRom();\n        this.$router.push('/');\n      }\n    },\n    components: {\n    DirectionalButton,\n    StandardButton,\n    LargeIcon,\n    SaveSection,\n    AlertDialog,\n    CheckBox\n  }\n}\n</script>\n\n<style scoped>\n.bar-container {\n  position: fixed;\n  z-index: 800;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 6rem;\n  padding: 0 var(--space-lg);\n  background: var(--grey1);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.spacer {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n}\n\n.spacer.back {\n  justify-content: left;\n}\n.spacer.save {\n  justify-content: right;\n}\n.bar-title {\n  font-weight: 400;\n  font-size: 2.8rem;\n  color: var(--grey8);\n  text-align: center;\n}\n.alert-footer {\n    display: flex;\n    flex-flow: row;\n    justify-content:center;\n    align-items: center;\n    margin-top: var(--space-lg)\n}\n.alert-footer button {\n  margin: 0 var(--space-sm);\n}\n@media screen and (max-width: 768px) {\n    .bar-title {\n      font-size: var(--text-lg);\n    }\n    .bar-container {\n      height: 9rem;\n    }\n}\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}