{"ast":null,"code":"import ListDmd from '../../dmd/ListDmd.vue';\nimport { useIntersectionObserver } from '@vueuse/core';\nimport { ref } from 'vue';\nexport default {\n  name: 'SpriteItem',\n  props: {\n    plane: Uint8Array,\n    index: Number,\n    tableIndex: Number\n  },\n  components: {\n    ListDmd\n  },\n  data() {\n    return {\n      isDrawn: false\n    };\n  },\n  setup() {\n    const target = ref(null);\n    const dmdIsVisible = ref(false);\n    // lazy-load the dmds:\n    useIntersectionObserver(target, ([{\n      isIntersecting\n    }]) => {\n      // only trigger the state change once:\n      if (dmdIsVisible.value == false) {\n        dmdIsVisible.value = isIntersecting;\n        stop();\n      }\n    }, {\n      rootMargin: \"200px\",\n      threshold: 0.1\n    });\n    return {\n      target,\n      dmdIsVisible\n    };\n  }\n};","map":{"version":3,"mappings":"AASA,OAAOA,OAAM,MAAO,uBAAsB;AAC1C,SAASC,uBAAsB,QAAS,cAAa;AACrD,SAASC,GAAE,QAAS,KAAI;AAExB,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,KAAK,EAAEC,UAAU;IACjBC,KAAK,EAAEC,MAAM;IACbC,UAAU,EAAED;EACd,CAAC;EACDE,UAAU,EAAE;IACVV;EACF,CAAC;EACDW,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,KAAK,GAAG;IACN,MAAMC,MAAK,GAAIZ,GAAG,CAAC,IAAI,CAAC;IACxB,MAAMa,YAAW,GAAIb,GAAG,CAAC,KAAK,CAAC;IAC/B;IACAD,uBAAuB,CACrBa,MAAM,EACN,CAAC,CAAC;MAAEE;IAAe,CAAC,CAAC,KAAK;MACxB;MACA,IAAGD,YAAY,CAACE,KAAI,IAAK,KAAK,EAAE;QAC9BF,YAAY,CAACE,KAAI,GAAID,cAAc;QACnCE,IAAI,EAAE;MACR;IACF,CAAC,EACD;MACEC,UAAU,EAAE,OAAO;MACnBC,SAAS,EAAE;IACb,EACF;IACA,OAAO;MACLN,MAAM;MACNC;IACF;EACF;AACF","names":["ListDmd","useIntersectionObserver","ref","name","props","plane","Uint8Array","index","Number","tableIndex","components","data","isDrawn","setup","target","dmdIsVisible","isIntersecting","value","stop","rootMargin","threshold"],"sourceRoot":"","sources":["/Users/permartinson/Documents/GitHub/wpcedit-vue/src/components/ui/list-items/SpriteItem.vue"],"sourcesContent":["<template>\n    <div class=\"list-item-sprite\" @click=\"$emit('open',{index:index,tableIndex:tableIndex})\" ref=\"target\">\n      <div class=\"list-item-inner\">\n        <ListDmd v-if=\"dmdIsVisible\" :index=\"index\" :table=\"tableIndex\" :plane=\"plane\"></ListDmd>\n      </div>\n    </div>\n</template>\n\n<script>\nimport ListDmd from '../../dmd/ListDmd.vue'\nimport { useIntersectionObserver } from '@vueuse/core'\nimport { ref } from 'vue'\n\nexport default {\n  name: 'SpriteItem',\n  props: {\n    plane: Uint8Array,\n    index: Number,\n    tableIndex: Number\n  },\n  components: {\n    ListDmd\n  },\n  data() {\n    return {\n      isDrawn: false\n    }\n  },\n  setup() {\n    const target = ref(null);\n    const dmdIsVisible = ref(false);\n    // lazy-load the dmds:\n    useIntersectionObserver(\n      target,\n      ([{ isIntersecting }]) => {\n        // only trigger the state change once:\n        if(dmdIsVisible.value == false) {\n          dmdIsVisible.value = isIntersecting;\n          stop();\n        }\n      },\n      {\n        rootMargin: \"200px\",\n        threshold: 0.1\n      }\n    )\n    return {\n      target,\n      dmdIsVisible,\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n\n.list-item-sprite {\n  margin: 1rem;\n  width: 23.5rem;\n  height: 8.2rem;\n  background: var(--grey5);\n  border-radius: var(--radius-md);\n  cursor: pointer;\n  box-shadow: var(--shadow-btn-default);\n}\n\n.list-item-sprite:hover {\n  background: var(--grey4);\n  box-shadow: var(--shadow-btn-hover);\n}\n\n.list-item-inner {\n  position: absolute;\n  top: var(--btn-outer-frame);\n  left: var(--btn-outer-frame);\n  bottom: var(--btn-outer-frame);\n  right: var(--btn-outer-frame);\n  border: 0.1rem solid var(--grey8);\n  display: flex;\n  align-items: center center;\n}\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}