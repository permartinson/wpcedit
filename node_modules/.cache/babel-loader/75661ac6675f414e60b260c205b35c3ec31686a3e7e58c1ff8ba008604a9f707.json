{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { WPCEdit } from 'wpcedit';\nexport const useWpcEditStore = defineStore('wpcEditStore', {\n  state: () => {\n    return {\n      romIsLoaded: false,\n      viewTitle: 'WPC Edit',\n      isAtHomeView: true,\n      currSpriteIndex: 0,\n      currSpriteTableIndex: 0\n    };\n  },\n  getters: {\n    maxFullFrameIndex: state => {\n      console.log(state);\n      return 1000; //TEMP! Get value from ROM!\n    },\n\n    maxSpriteTable: () => {\n      return 64; //TEMP! Get value from ROM!\n    },\n\n    maxSpriteIndexInCurrentTable: () => {\n      return 128; //TEMP! Get value from ROM!\n    }\n  },\n\n  actions: {\n    loadRom(data) {\n      WPCEdit.init();\n      WPCEdit.rom = data;\n      this.romIsLoaded = true;\n    },\n    getFullFrameImageAt(index) {\n      WPCEdit.fullFrameImage.index = index;\n      return WPCEdit.fullFrameImage.plane;\n    },\n    getSpriteAt(table, index) {\n      //const tableDelta = table - this.currSpriteTableIndex;\n      const indexDelta = index - this.currSpriteIndex;\n      if (indexDelta < 0) {\n        WPCEdit.variableSizedImage.prev(Math.abs(indexDelta));\n      } else {\n        WPCEdit.variableSizedImage.next(indexDelta);\n      }\n      WPCEdit.variableSizedImage.table = table;\n      WPCEdit.variableSizedImage.index = index;\n      return WPCEdit.variableSizedImage.plane;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","WPCEdit","useWpcEditStore","state","romIsLoaded","viewTitle","isAtHomeView","currSpriteIndex","currSpriteTableIndex","getters","maxFullFrameIndex","console","log","maxSpriteTable","maxSpriteIndexInCurrentTable","actions","loadRom","data","init","rom","getFullFrameImageAt","index","fullFrameImage","plane","getSpriteAt","table","indexDelta","variableSizedImage","prev","Math","abs","next"],"sources":["/Users/permartinson/Documents/GitHub/wpcedit-vue/src/stores/wpcEditStore.js"],"sourcesContent":["import { defineStore } from 'pinia';\nimport { WPCEdit } from 'wpcedit';\n\nexport const useWpcEditStore = defineStore('wpcEditStore', {\n    state: () => {\n        return {\n            romIsLoaded: false,\n            viewTitle: 'WPC Edit',\n            isAtHomeView: true,\n            currSpriteIndex: 0,\n            currSpriteTableIndex: 0\n        }\n    },\n    getters: {\n        maxFullFrameIndex: (state) => {\n            console.log(state);\n            return 1000; //TEMP! Get value from ROM!\n        },\n        maxSpriteTable: () => {\n            return 64; //TEMP! Get value from ROM!\n        },\n        maxSpriteIndexInCurrentTable: () => {\n            return 128; //TEMP! Get value from ROM!\n        }\n    },\n    actions: {\n        loadRom(data) {\n            WPCEdit.init();\n            WPCEdit.rom = data;\n            this.romIsLoaded = true;\n        },\n        getFullFrameImageAt(index) {\n            WPCEdit.fullFrameImage.index = index;\n            return WPCEdit.fullFrameImage.plane;\n        },\n        getSpriteAt(table,index) {\n            //const tableDelta = table - this.currSpriteTableIndex;\n            const indexDelta = index - this.currSpriteIndex;\n            if(indexDelta < 0) {\n                WPCEdit.variableSizedImage.prev(Math.abs(indexDelta))\n            } else {\n                WPCEdit.variableSizedImage.next(indexDelta);\n            }\n            WPCEdit.variableSizedImage.table = table;\n            WPCEdit.variableSizedImage.index = index;\n            return WPCEdit.variableSizedImage.plane;\n        }\n    }\n})"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,OAAO,QAAQ,SAAS;AAEjC,OAAO,MAAMC,eAAe,GAAGF,WAAW,CAAC,cAAc,EAAE;EACvDG,KAAK,EAAE,MAAM;IACT,OAAO;MACHC,WAAW,EAAE,KAAK;MAClBC,SAAS,EAAE,UAAU;MACrBC,YAAY,EAAE,IAAI;MAClBC,eAAe,EAAE,CAAC;MAClBC,oBAAoB,EAAE;IAC1B,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,iBAAiB,EAAGP,KAAK,IAAK;MAC1BQ,OAAO,CAACC,GAAG,CAACT,KAAK,CAAC;MAClB,OAAO,IAAI,CAAC,CAAC;IACjB,CAAC;;IACDU,cAAc,EAAE,MAAM;MAClB,OAAO,EAAE,CAAC,CAAC;IACf,CAAC;;IACDC,4BAA4B,EAAE,MAAM;MAChC,OAAO,GAAG,CAAC,CAAC;IAChB;EACJ,CAAC;;EACDC,OAAO,EAAE;IACLC,OAAO,CAACC,IAAI,EAAE;MACVhB,OAAO,CAACiB,IAAI,EAAE;MACdjB,OAAO,CAACkB,GAAG,GAAGF,IAAI;MAClB,IAAI,CAACb,WAAW,GAAG,IAAI;IAC3B,CAAC;IACDgB,mBAAmB,CAACC,KAAK,EAAE;MACvBpB,OAAO,CAACqB,cAAc,CAACD,KAAK,GAAGA,KAAK;MACpC,OAAOpB,OAAO,CAACqB,cAAc,CAACC,KAAK;IACvC,CAAC;IACDC,WAAW,CAACC,KAAK,EAACJ,KAAK,EAAE;MACrB;MACA,MAAMK,UAAU,GAAGL,KAAK,GAAG,IAAI,CAACd,eAAe;MAC/C,IAAGmB,UAAU,GAAG,CAAC,EAAE;QACfzB,OAAO,CAAC0B,kBAAkB,CAACC,IAAI,CAACC,IAAI,CAACC,GAAG,CAACJ,UAAU,CAAC,CAAC;MACzD,CAAC,MAAM;QACHzB,OAAO,CAAC0B,kBAAkB,CAACI,IAAI,CAACL,UAAU,CAAC;MAC/C;MACAzB,OAAO,CAAC0B,kBAAkB,CAACF,KAAK,GAAGA,KAAK;MACxCxB,OAAO,CAAC0B,kBAAkB,CAACN,KAAK,GAAGA,KAAK;MACxC,OAAOpB,OAAO,CAAC0B,kBAAkB,CAACJ,KAAK;IAC3C;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}